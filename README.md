
# 🏆 منصة الحجز الرياضي الآلية - Sports Hub

منصة متقدمة وشاملة لإدارة وحجز الأنشطة الرياضية تم تطويرها باستخدام أحدث التقنيات. تدعم المنصة حجز الملاعب الرياضية، أحواض السباحة، والأنشطة المختلفة مع نظام دفع متطور وإشعارات تلقائية عبر WhatsApp و Telegram.

![Sports Hub Platform](https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?auto=format&fit=crop&q=80&w=2000)

## ✨ الميزات الرئيسية

### 🌍 دعم متعدد اللغات
- **العربية (RTL) والإنجليزية (LTR)** مع تبديل ديناميكي للاتجاه
- نظام ترجمة شامل باستخدام i18next
- مكونات واجهة تتكيف مع اتجاه اللغة

### 🎨 واجهة مستخدم حديثة
- **تصميم متجاوب** يعمل على جميع الأجهزة
- **تبديل بين الوضع الليلي والنهاري** مع حفظ التفضيلات
- **رسوم متحركة سلسة** باستخدام Framer Motion
- **مكونات Shadcn/ui** للتصميم المتسق
- **شريط جانبي ذكي** يتكيف مع اتجاه اللغة

### 🔐 المصادقة وإدارة الأدوار
- نظام مصادقة آمن مع JWT tokens
- إدارة الأدوار (مدير، مشرف، مستخدم)
- لوحة تحكم المديرين لإدارة المستخدمين
- إدارة الملف الشخصي مع معلومات قابلة للتعديل

### 📅 نظام الحجز المتطور
- **حجز أحواض السباحة** مع إدارة الفترات الزمنية
- **حجز الملاعب الرياضية** (كرة القدم، كرة السلة، التنس، الكرة الطائرة)
- فلترة وبحث متقدم
- تتبع حالة الحجز (معلق، مؤكد، ملغي)
- فحص التوفر في الوقت الفعلي

### 📊 لوحة تحكم المديرين
- تحليلات وإحصائيات شاملة
- واجهة إدارة أدوار المستخدمين
- نظرة عامة على الحجوزات وإدارتها
- تتبع الإيرادات والتقارير المالية

### 🤖 التكامل مع Telegram و WhatsApp
- إشعارات تلقائية للمديرين عبر Telegram
- رسائل تأكيد للعملاء عبر WhatsApp
- تحديثات الحالة في الوقت الفعلي
- إعدادات قابلة للتخصيص للروبوتات

### 📱 تصميم متجاوب
- نهج Mobile-first
- شريط جانبي قابل للطي على الأجهزة المحمولة
- تخطيطات تكيفية لجميع أحجام الشاشات
- تفاعلات ملائمة للمس

## 🛠️ التقنيات المستخدمة

| الطبقة | التقنية |
|-------|------------|
| **الواجهة الأمامية** | React 18 + TypeScript |
| **التصميم** | TailwindCSS + Shadcn/ui |
| **الرسوم المتحركة** | Framer Motion |
| **إدارة الحالة** | Zustand |
| **التدويل** | i18next + react-i18next |
| **الأيقونات** | Lucide React |
| **أداة البناء** | Vite |
| **التوجيه** | React Router DOM |
| **قاعدة البيانات** | MySQL/MariaDB |
| **الإشعارات** | Telegram Bot API + WhatsApp Web |

## 🚀 بدء الاستخدام

### المتطلبات الأساسية
- Node.js 18+ و npm/yarn
- MySQL/MariaDB 8.0+
- متصفح ويب حديث

### التثبيت

1. **استنساخ المستودع**
   ```bash
   git clone <your-repo-url>
   cd sports-booking-platform
   ```

2. **تثبيت التبعيات**
   ```bash
   yarn install
   ```

3. **إعداد متغيرات البيئة**
   ```bash
   # إنشاء ملف .env
   TELEGRAM_BOT_TOKEN=your_telegram_bot_token
   TELEGRAM_CHAT_ID=your_admin_chat_id
   WHATSAPP_SESSION_ID=whatsapp_session_id
   WHATSAPP_WEBHOOK_URL=http://yourserver.com/whatsapp/webhook
   DATABASE_URL=mysql://user:password@localhost:3306/sports_booking
   JWT_SECRET=your_super_secret_jwt_key
   ```

4. **إعداد قاعدة البيانات**
   ```bash
   # تنفيذ ملف قاعدة البيانات
   mysql -u root -p < src/database/schema.sql
   ```

5. **تشغيل خادم التطوير**
   ```bash
   yarn dev
   ```

6. **فتح المتصفح**
   انتقل إلى `http://localhost:5173`

### البناء للإنتاج

```bash
# بناء المشروع
yarn build

# معاينة البناء
yarn preview
```

## 📱 نظرة عامة على الميزات

### 🏠 الصفحة الرئيسية
- قسم البطل مع دعوة للعمل
- تسليط الضوء على الميزات
- تصميم متجاوب
- تكامل نموذج المصادقة

### 🏊‍♀️ قسم السباحة
- قوائم أحواض السباحة مع التقييمات والمرافق
- نظام حجز الفترات الزمنية
- مؤشرات التوفر
- معلومات مفصلة عن المرافق

### ⚽ الملاعب الرياضية
- أنواع رياضية متعددة (كرة القدم، كرة السلة، التنس، الكرة الطائرة)
- مواصفات الملعب والسعة
- تفاصيل المعدات والمرافق
- حالة الحجز في الوقت الفعلي

### 📋 إدارة الحجوزات
- تاريخ الحجوزات الشخصية
- فلترة الحالة والبحث
- خيارات تعديل الحجز
- تتبع الدفعات

### 👥 أدوار المستخدمين (المدير)
- واجهة إدارة المستخدمين
- قدرات تخصيص الأدوار
- مراقبة نشاط المستخدم
- وظائف البحث والفلترة

### 👤 إدارة الملف الشخصي
- معلومات الملف الشخصي القابلة للتعديل
- تاريخ النشاط
- إحصائيات شخصية
- إعدادات الحساب

## 🌐 دعم اللغات

تكتشف المنصة تلقائياً وتطبق اتجاه اللغة المناسب:

- **الإنجليزية (LTR)**: الشريط الجانبي على اليسار، النص يتدفق من اليسار إلى اليمين
- **العربية (RTL)**: الشريط الجانبي على اليمين، النص يتدفق من اليمين إلى اليسار

### إضافة لغات جديدة

1. إنشاء ملف ترجمة في `src/translations/`
2. إضافة خيار اللغة إلى المتجر
3. الاستيراد والتكوين في `src/translations/index.ts`

## 🎨 الثيمات

تدعم المنصة كلاً من الثيمات الفاتحة والداكنة:

- **الثيم الفاتح**: واجهة نظيفة ومشرقة
- **الثيم الداكن**: واجهة عصرية داكنة مع تباين مناسب
- **التبديل التلقائي**: اختيار الثيم المستمر المحفوظ في localStorage

## 📡 تكامل Telegram و WhatsApp

### إعداد Telegram Bot
1. إنشاء بوت جديد عبر @BotFather على Telegram
2. الحصول على رمز البوت
3. العثور على معرف الدردشة للمدير
4. إضافة المتغيرات إلى `.env`

### إعداد WhatsApp
1. تثبيت `whatsapp-web.js`
2. تشغيل الخدمة لأول مرة لمسح رمز QR
3. سيتم حفظ الجلسة تلقائياً للاستخدامات المستقبلية

```env
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=123456789
WHATSAPP_SESSION_ID=sports_hub_session
```

النظام سيرسل تلقائياً:
- إشعارات بدء التشغيل
- تأكيدات الحجز
- تحديثات الدفع
- تنبيهات الإلغاء

### تشغيل البوت المتكامل
لتشغيل سكربت التكامل بين Telegram و WhatsApp استخدم الأمر:
```bash
yarn bot
```
سيبدأ السكربت في توليد رمز QR وإرساله إلى حساب Telegram الخاص بالمدير، بالإضافة إلى دعم الأوامر `/getqr` و`/status` و`/reset`.

## 🗂️ هيكل المشروع

```
src/
├── components/           # مكونات واجهة المستخدم القابلة لإعادة الاستخدام
│   ├── layout/          # مكونات التخطيط (الرأس، الشريط الجانبي، إلخ)
│   ├── auth/            # مكونات المصادقة
│   ├── forms/           # نماذج CRUD
│   └── ui/              # مكونات Shadcn/ui
├── pages/               # مكونات الصفحات
│   ├── Dashboard.tsx
│   ├── Clients.tsx
│   ├── Bookings.tsx
│   ├── Swimming.tsx
│   ├── Fields.tsx
│   └── Landing.tsx
├── services/           # خدمات API والمرافق
│   ├── telegram/       # خدمة Telegram Bot
│   ├── whatsapp/       # خدمة WhatsApp
│   └── auth.ts         # خدمات المصادقة
├── stores/             # متجر Zustand
├── translations/       # ملفات ترجمة i18n
├── database/           # مخططات قاعدة البيانات
└── utils/              # وظائف المرافق
```

## 🔧 التكوين

### التنقل في الشريط الجانبي

يتكيف الشريط الجانبي تلقائياً بناءً على اتجاه اللغة ويتضمن:
- لوحة التحكم الرئيسية
- إدارة الحجوزات
- مرافق السباحة
- الملاعب الرياضية
- أدوار المستخدمين (المدير فقط)
- إعدادات الملف الشخصي

### إدارة الحالة

استخدام Zustand لإدارة حالة بسيطة وفعالة:
- تفضيلات الثيم واللغة
- حالة مصادقة المستخدم
- بيانات الحجز
- حالة واجهة المستخدم (الشريط الجانبي، النوافذ المنبثقة)

## 📊 قاعدة البيانات وAPI

### جداول قاعدة البيانات الرئيسية:
- `users` - معلومات المستخدمين والمصادقة
- `clients` - بيانات العملاء
- `activities` - الأنشطة الرياضية (السباحة والملاعب)
- `bookings` - الحجوزات ومعلوماتها
- `payments` - معاملات الدفع
- `notifications` - سجل الإشعارات

### نقاط API الرئيسية:
```
POST /api/auth/login          # تسجيل الدخول
POST /api/auth/logout         # تسجيل الخروج
GET  /api/clients             # استعلام العملاء
POST /api/clients             # إضافة عميل جديد
GET  /api/bookings            # استعلام الحجوزات
POST /api/bookings            # إنشاء حجز جديد
PUT  /api/bookings/:id        # تحديث حجز
DELETE /api/bookings/:id      # حذف حجز
GET  /api/activities          # استعلام الأنشطة
POST /api/notifications/send  # إرسال إشعار
```

## 🔒 الأمان والصلاحيات

### ميزات الأمان:
- تشفير كلمات المرور باستخدام bcrypt
- رموز JWT آمنة مع انتهاء صلاحية
- حماية CSRF
- تحقق من صحة المدخلات
- تقييد الوصول القائم على الأدوار

### مستويات الصلاحيات:
- **مدير عام**: وصول كامل لجميع الميزات
- **مشرف**: إدارة الحجوزات والعملاء
- **موظف**: عرض والتعديل المحدود
- **عميل**: حجز وإدارة حجوزاته الخاصة

## 🚦 الحالات والانتقالات

### حالات الحجز:
1. **معلق** - في انتظار التأكيد
2. **مؤكد** - تم تأكيد الحجز
3. **قيد التنفيذ** - الحجز جاري حالياً
4. **مكتمل** - تم إنجاز الحجز
5. **ملغي** - تم إلغاء الحجز

### سير عمل الدفع:
1. حجز مبدئي → دفع المقدم → تأكيد الحجز
2. تذكير بالدفع → استكمال الدفع → تأكيد نهائي
3. معالجة الاسترداد في حالة الإلغاء

## 📱 أمثلة تفاعل البوتات

### رسائل Telegram للمدير:
```
🏊‍♂️ حجز سباحة جديد
العميل: أحمد محمد
التاريخ: 2024-01-15
الوقت: 10:00 - 11:00
المبلغ: 50 ريال
الحالة: معلق ⏳
```

### رسائل WhatsApp للعميل:
```
مرحباً أحمد 👋
تم تأكيد حجزك:
🏊‍♂️ حوض السباحة - حصة خاصة
📅 15 يناير 2024
⏰ 10:00 - 11:00 صباحاً
💰 المبلغ: 50 ريال
شكراً لاختيارك Sports Hub! 🏆
```

## 📝 المساهمة

1. فورك المستودع
2. إنشاء فرع ميزة (`git checkout -b feature/amazing-feature`)
3. تنفيذ التغييرات (`git commit -m 'Add amazing feature'`)
4. دفع للفرع (`git push origin feature/amazing-feature`)
5. فتح Pull Request

## 🐛 المشاكل المعروفة

- تكامل Telegram يتطلب بيانات اعتماد صحيحة للبوت
- قد يتم تقليل بعض الرسوم المتحركة على الأجهزة منخفضة الأداء
- قد تؤثر لوحة مفاتيح الجوال على التموضع الثابت في بعض الأجهزة

## 🔮 التحسينات المستقبلية

- [ ] تكامل بوابة الدفع
- [ ] إشعارات في الوقت الفعلي
- [ ] تكامل التقويم
- [ ] تطوير تطبيق الجوال
- [ ] تقارير وتحليلات متقدمة
- [ ] إدارة مرافق متعددة
- [ ] خطط العضوية
- [ ] ميزات اجتماعية ومراجعات

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

## 🤝 الدعم

للحصول على الدعم، راسل support@sportshub.com أو انضم إلى دردشة المجتمع.

---

**تم بناؤه بـ ❤️ باستخدام أحدث التقنيات**

*حل عصري وقابل للتطوير لحجز الأنشطة الرياضية في العصر الرقمي.*
